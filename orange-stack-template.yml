name: Stack Kotlin Micronaut
description: Stack Kotlin Micronaut by Orange Stack
inputs:
  - label: 'Group Name:'
    name: group
    type: list
    itens: {{ORANGE_GROUPS}}

  - label: 'Name Product:'
    name: name_product
    type: text

  - label: 'Description:'
    name: description
    type: text
resources:
  - step: scaffold
    type: template
    template: ori::template::132456-654654-654654-65464::asdaasd-654654-987987-987987 // SCAFFOLD MICRONAUTE
    inputs:
      - label: 'Base name:'
        value: {{inputs.name_product}}
        name: base_name
        type: text

      - label: 'Description:'
        value: {{inputs.description}}
        name: description
        type: text

      - label: 'Fragments:'
        name: fragments
        type: list
        itens:
          - aws-secret-manager
          - cache-redis
          - dynamodb
          - grpc-gateway
          - ikafka
          - logging
          - metrics
          - mysql
          - postgres
          - rest
          - security
          - tests
          - tracing

# Inputs não mapeados serão usados os valores default, então só precisamos mapear esses inputs
# caso quisermos que o usuário tenha possibilidade de editar esse valor.

  - step: pipeline
    type: formula
    formula:
      repo: https://github.com/orangestack-com/formulas-pipeline/
      release: 0.0.5
      command: os create pipeline
    inputs:
      - label: 'Language/technology:'
        name: language
        type: list
        itens:
          - android
          - angular
          - dotnet_core
          - java_gradle
          - java_maven
          - kotlin_gradle
          - nodejs
          - python
          - swagger_json
          - swagger_yaml
          - terraform_aws